-- create table aluno(
-- RA NUMBER(5) PRIMARY KEY,
-- NOME VARCHAR(40) NOT NULL);

-- INSERT INTO ALUNO VALUES (1,'ANTONIO');
-- INSERT INTO ALUNO VALUES (2,'BEATRIZ');

-- SELECT * FROM ALUNO

-- SET SERVEROUTPUT ON

DECLARE 
-- VARIAVEIS COM HERANÇA DE UM CAMPO DA TABELA
V_RA ALUNO.RA%TYPE;
V_NOME ALUNO.NOME%TYPE;
BEGIN
SELECT RA, NOME
INTO V_RA, V_NOME FROM ALUNO
WHERE RA=1;
-- PRINTAR NA TELA || COMANDO PARA CONCATENAR 
DBMS_OUTPUT.PUT_LINE('RA: ' || (V_RA) || 'NOME: ' || (V_NOME));
 EXCEPTION
        WHEN no_data_found THEN
         DBMS_OUTPUT.PUT_LINE('DADOS NÃO ENCONTRADO');
        WHEN TOO_MANY_ROWS THEN
         DBMS_OUTPUT.PUT_LINE('DADOS RETORNANDO MAIS DE UMA LINHA');
        WHEN OTHERS THEN
         DBMS_OUTPUT.PUT_LINE('ERRO DESCONHECIDO');
 END;



SELECT * FROM HR.EMPLOYEES;

SET SERVEROUTPUT ON
DECLARE

V_QUANT INTEGER;

BEGIN

SELECT COUNT(*)
INTO V_QUANT
FROM HR.EMPLOYEES;

DBMS_OUTPUT.PUT_LINE('EXISTEM ' || TO_CHAR (V_QUANT) || ' FUNCIONARIOS CADASTRADOS');

END;

-- SELECT * FROM HR.EMPLOYEES;

-- SET SERVEROUTPUT ON
-- DECLARE

-- V_QUANT INTEGER;

-- BEGIN

-- SELECT COUNT(*)
-- INTO V_QUANT
-- FROM HR.EMPLOYEES;

-- DBMS_OUTPUT.PUT_LINE('EXISTEM ' || TO_CHAR (V_QUANT) || ' FUNCIONARIOS CADASTRADOS');

-- END;

DECLARE
-- ROWTYPE HERDA CARACTERISTICA DE VARIOS CAMPOS DE UMA UNICA VEZ
-- APENAS TYPE HERDA CARACTERISTICA DE UM CAMPO APENAS
V_EMP HR.EMPLOYEES%ROWTYPE;
BEGIN
SELECT * INTO V_EMP
FROM HR.EMPLOYEES
WHERE EMPLOYEE_ID=100;

DBMS_OUTPUT.PUT_LINE('ID: '||TO_CHAR(V_EMP.EMPLOYEE_ID));
DBMS_OUTPUT.PUT_LINE('NOME: '||TO_CHAR(V_EMP.FIRST_NAME));
DBMS_OUTPUT.PUT_LINE('SOBRENOME: '||TO_CHAR(V_EMP.LAST_NAME));
DBMS_OUTPUT.PUT_LINE('SALARIO: '||TO_CHAR(V_EMP.SALARY));
END;

SELECT FIRST_NAME, JOB_TITLE, SALARY FROM HR.EMPLOYEES INNER JOIN HR.JOBS
ON HR.EMPLOYEES.JOB_ID = HR.JOBS.JOB_ID
WHERE EMPLOYEE_ID = 100

SELECT HR.JOBS.JOB_ID, FIRST_NAME, JOB_TITLE, SALARY FROM HR.EMPLOYEES INNER JOIN HR.JOBS
ON HR.EMPLOYEES.JOB_ID = HR.JOBS.JOB_ID
WHERE EMPLOYEE_ID = 100

DECLARE
V_NOME HR.EMPLOYEES.FIRST_NAME%TYPE;
V_CARGO HR.JOBS.JOB_TITLE%TYPE;
BEGIN
SELECT FIRST_NAME, JOB_TITLE INTO V_NOME, V_CARGO
FROM HR.EMPLOYEES INNER JOIN HR.JOBS
ON HR.EMPLOYEES.JOB_ID = HR.JOBS.JOB_ID
WHERE HR.EMPLOYEES.EMPLOYEE_ID = 100;
DBMS_OUTPUT.PUT_LINE('NOME '|| V_NOME || V_NOME || ' CARGO ' || V_CARGO);
END;

DECLARE
V_NOME HR.EMPLOYEES.FIRST_NAME%TYPE;
V_CARGO HR.JOBS.JOB_TITLE%TYPE;
V_DEPTO HR.DEPARTMENTS.DEPARTMENT_NAME%TYPE;
BEGIN
SELECT FIRST_NAME, JOB_TITLE, DEPARTMENT_NAME 
INTO V_NOME, V_CARGO, V_DEPTO
FROM HR.EMPLOYEES INNER JOIN HR.JOBS
ON HR.EMPLOYEES.JOB_ID = HR.JOBS.JOB_ID INNER JOIN HR.DEPARTMENTS
ON HR.DEPARTMENTS.DEPARTMENT_ID = HR.EMPLOYEES.DEPARTMENT_ID
WHERE EMPLOYEE_ID = 100;
DBMS_OUTPUT.PUT_LINE('NOME: '|| V_NOME || ' CARGO: ' || V_CARGO || ' DEPTO: ' || V_DEPTO);
END;